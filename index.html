<!-- Begin Quiz Code -->
<div id="quiz-container">
  <!-- Quiz content will be injected here -->
</div>

<style>
  /* Quiz Styles */
  #quiz-container {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    text-align: center; /* Centering all elements inside the container */
  }

  .quiz-intro {
    font-size: 18px;
    margin-bottom: 20px;
    text-align: center;
  }

  .quiz-question {
    font-size: 20px;
    margin-bottom: 20px;
    font-weight: bold;
    text-align: center; /* Centering the question */
  }

  .quiz-options {
    display: flex;
    flex-direction: column;
    align-items: center; /* Centering the buttons */
  }

  .quiz-button {
    background-color: transparent;
    color: black;
    border: 2px solid black;
    font-size: 16px;
    border-radius: 10px;
    padding: 12px 20px;
    margin-bottom: 10px;
    cursor: pointer;
    width: 80%; /* Wider button */
  }

  .quiz-button:hover {
    background-color: #f0f0f0;
  }

  .next-button {
    background-color: #FF5a00;
    color: white;
    text-align: center;
    font-size: 16px;
    border-radius: 10px;
    padding: 12px 20px;
    border: none;
    cursor: pointer;
    display: none;
    margin-top: 20px;
    width: 80%; /* Wider button */
  }

  .next-button:disabled {
    background-color: #cccccc;
    cursor: not-allowed;
  }

  .input-field {
    font-size: 16px;
    padding: 10px;
    border: 2px solid black;
    border-radius: 10px;
    margin-bottom: 20px;
    width: 100%;
  }

  @media screen and (max-width: 600px) {
    #quiz-container {
      padding: 10px;
    }

    .quiz-question {
      font-size: 16px;
    }

    .quiz-button,
    .next-button {
      font-size: 14px;
      padding: 8px;
    }

    .input-field {
      font-size: 14px;
      padding: 8px;
    }
  }
</style>

<script>
  (function () {
    // Quiz Data
    const quizData = {
      currentQuestionIndex: 0,
      answers: [],
      totalScore: 0,
      startTime: new Date(),
      utm: '',
      questions: [
        {
          question: 'Who has eczema?',
          options: ['Me', 'My Child', 'Relative'],
          type: 'options',
          points: [0, 0, 0],
        },
        {
          question: 'Has the eczema been diagnosed by a doctor?',
          options: ['Yes', 'No'],
          type: 'options',
          points: [0, 0],
        },
        {
          question: 'What is the gender of the person with eczema?',
          options: ['Male', 'Female', 'Other'],
          type: 'options',
          points: [0, 0, 0],
        },
        {
          question: 'How old is the person with eczema?',
          placeholder: 'Age',
          type: 'input',
          inputType: 'number',
          validate: function (value) {
            return value && !isNaN(value);
          },
        },
        {
          question: 'If you have previously used moisturizers for eczema, what did you dislike the most about them?',
          options: [
            'I have not used moisturizers before',
            'They were too greasy, heavy, or sticky',
            'They were too light and liquid, not moisturizing enough',
            'They caused irritation or an allergic reaction',
          ],
          type: 'options',
          points: [100, 200, 300, 400],
        },
        {
          question: 'Over the last week, on how many days has the skin been itchy because of eczema?',
          options: ['No days', '1-2 days', '3-4 days', '5-6 days', 'Every day'],
          type: 'options',
          points: [0, 1, 2, 3, 4],
        },
        // More questions here...
      ],
    };

    // Initialize Quiz
    const quizContainer = document.getElementById('quiz-container');

    // Render the question with the number
    function renderQuestion() {
      const questionData = quizData.questions[quizData.currentQuestionIndex];
      quizContainer.innerHTML = '';

      // Add the intro text and question number
      if (quizData.currentQuestionIndex === 0) {
        const introElement = document.createElement('div');
        introElement.className = 'quiz-intro';
        introElement.textContent = 'Answer a few questions and get your first kit for free';
        quizContainer.appendChild(introElement);
      }

      const questionElement = document.createElement('div');
      questionElement.className = 'quiz-question';
      questionElement.textContent = `${quizData.currentQuestionIndex + 1}. ${questionData.question}`;
      quizContainer.appendChild(questionElement);

      if (questionData.type === 'options') {
        const optionsContainer = document.createElement('div');
        optionsContainer.className = 'quiz-options';

        questionData.options.forEach((option, index) => {
          const button = document.createElement('button');
          button.className = 'quiz-button';
          button.textContent = option;
          button.onclick = function () {
            quizData.answers.push(option);
            quizData.currentQuestionIndex++;
            if (quizData.currentQuestionIndex < quizData.questions.length) {
              renderQuestion();
            } else {
              finishQuiz();
            }
          };
          optionsContainer.appendChild(button);
        });

        quizContainer.appendChild(optionsContainer);
      } else if (questionData.type === 'input') {
        const inputField = document.createElement('input');
        inputField.className = 'input-field';
        inputField.type = questionData.inputType || 'text';
        inputField.placeholder = questionData.placeholder;
        inputField.autofocus = true; // Autofocus on the input field

        const nextButton = document.createElement('button');
        nextButton.className = 'next-button';
        nextButton.textContent = questionData.buttonText || 'Next';
        nextButton.disabled = true;
        nextButton.style.display = 'block';

        inputField.oninput = function () {
          if (questionData.validate(inputField.value)) {
            nextButton.disabled = false;
          } else {
            nextButton.disabled = true;
          }
        };

        nextButton.onclick = function () {
          quizData.answers.push(inputField.value);
          quizData.currentQuestionIndex++;
          if (quizData.currentQuestionIndex < quizData.questions.length) {
            renderQuestion();
          } else {
            finishQuiz();
          }
        };

        quizContainer.appendChild(inputField);
        quizContainer.appendChild(nextButton);
      }
    }

    // Start Quiz
    renderQuestion();
  })();
</script>
<!-- End Quiz Code -->
